<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: WMTypeAhead</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: WMTypeAhead</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>WMTypeAhead<span class="signature">(appendTo, searchInput)</span><span class="type-signature"> &rarr; {Object|HTMLElement|function}</span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="WMTypeAhead"><span class="type-signature"></span>new WMTypeAhead<span class="signature">(appendTo, searchInput)</span><span class="type-signature"> &rarr; {Object|HTMLElement|function}</span></h4>
    

    



<div class="description">
    WMTypeAhead.
Displays search suggestions with thumbnail and description
as user types into an input field.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>appendTo</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of a container element that the suggestions will be appended to.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>searchInput</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of a search input whose value will be used to generate
                              search suggestions.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line83">line 83</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    Returns an object with the following properties:
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    return.typeAheadEl The type-ahead DOM object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">HTMLElement</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    return.query A function that loads the type-ahead suggestions.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>
</li>
    </ul>




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var typeAhead = new WMTypeAhead('containerID', 'inputID');
typeAhead.query('search string', 'en');</code></pre>



    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~ssActiveIndex"><span class="type-signature">(inner) </span>ssActiveIndex<span class="type-signature"></span></h4>




<div class="description">
    Maintains the 'active' state on search suggestions.
Makes sure the 'active' element is synchronized between mouse and keyboard usage,
and cleared when new search suggestions appear.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line147">line 147</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="~clearTypeAhead"><span class="type-signature">(inner) </span>clearTypeAhead<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes the type-ahead suggestions from the DOM.
Reason for timeout: The typeahead is set to clear on input blur.
When a user clicks on a search suggestion, they triggers the input blur
and remove the typeahead before a click event is registered.
The timeout makes it so a click on the search suggestion is registered before
an input blur.
300ms is used to account for the click delay on mobile devices.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line198">line 198</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~clearTypeAheadElements"><span class="type-signature">(inner) </span>clearTypeAheadElements<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removed the actual child nodes from typeAheadEl
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line178">line 178</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>{typeAheadEl}</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~forceLinkFollow"><span class="type-signature">(inner) </span>forceLinkFollow<span class="signature">(e)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Manually redirects the page to the href of a given element.

For Chrome on Android to solve T221628.
When search suggestions below the fold are clicked, the blur event
on the search input is triggered and the page scrolls the search input
into view. However, the originating click event does not redirect
the page.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>e</code></td>
            

            <td class="type">
            
                
<span class="param-type">Event</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line216">line 216</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~generateTemplateString"><span class="type-signature">(inner) </span>generateTemplateString<span class="signature">(suggestions)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Generates a template string based on an array of search suggestions.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>suggestions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">An array of search suggestion results.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line356">line 356</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A string representing the search suggestions DOM
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~getLoadingIndicator"><span class="type-signature">(inner) </span>getLoadingIndicator<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Card displayed while loading search results
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line227">line 227</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~getNoResultsIndicator"><span class="type-signature">(inner) </span>getNoResultsIndicator<span class="signature">(searchString)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Card displayed if no results could be found
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>searchString</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The search string.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line244">line 244</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~highlightTitle"><span class="type-signature">(inner) </span>highlightTitle<span class="signature">(title, searchString)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Highlights the part of the suggestion title that matches the search query.
Used inside the generateTemplateString function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The title of the search suggestion.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>searchString</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The string to highlight.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line329">line 329</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The title with highlighted part in an <em> tag.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~keyboardEvents"><span class="type-signature">(inner) </span>keyboardEvents<span class="signature">(event)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Keyboard events: up arrow, down arrow and enter.
moves the 'active' suggestion up and down.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">event</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line544">line 544</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~loadQueryScript"><span class="type-signature">(inner) </span>loadQueryScript<span class="signature">(string, lang)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Inserts script element containing the Search API results into document head.
The script itself calls the 'portalOpensearchCallback' callback function,
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>string</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">query string to search.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lang</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ISO code of language to search in.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line267">line 267</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~toggleActiveClass"><span class="type-signature">(inner) </span>toggleActiveClass<span class="signature">(item, collection)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    - Removes 'active' class from a collection of elements.
- Adds 'active' class to an item if missing.
- Removes 'active' class from item if present.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>


            
            </td>

            

            

            <td class="description last">Item to add active class to.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>collection</code></td>
            

            <td class="type">
            
                
<span class="param-type">NodeList</span>


            
            </td>

            

            

            <td class="description last">Sibling items.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wm-typeahead.js.html">wm-typeahead.js</a>, <a href="wm-typeahead.js.html#line453">line 453</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="window.WMTypeAhead.html">WMTypeAhead</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getDevicePixelRatio">getDevicePixelRatio</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Mon Jan 06 2020 19:31:51 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>