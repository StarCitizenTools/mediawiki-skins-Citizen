/*
 * Citizen
 *
 * Module: mediawiki.skinning.content.tables
 * Version: REL1_39
 *
 * Date: 2024-02-26
*/

// TODO: Revisit on MW 1.43 since Minerva table styles are merged upstream
.wikitable {
	display: block;
	max-width: max-content; // Needed for the border
	margin: var( --space-md ) 0;
	overflow-x: auto;
	font-size: var( --font-size-small );
	border-collapse: collapse;
	border-color: var( --border-color-base );
	border-radius: var( --border-radius-medium );
	box-shadow: var( --box-shadow-border );

	// Avoid double border (#902)
	&[ border='1' ] {
		box-shadow: none;
	}

	caption {
		padding-right: var( --space-sm );
		padding-left: var( --space-sm );
		margin-bottom: var( --space-xs );
		font-weight: var( --font-weight-semibold );
		color: var( --color-emphasized );
		text-align: start;
	}

	thead + tbody {
		border-top: var( --border-width-base ) solid var( --border-color-base );
	}

	tbody tr {
		&:hover {
			background-color: var( --background-color-button-quiet--hover );
		}
	}

	th {
		text-align: start;
	}

	th,
	td {
		padding: var( --space-xs ) var( --space-sm );
	}

	tr {
		th,
		td {
			border-top: var( --border-width-base ) solid var( --border-color-base );
		}

		&:first-of-type {
			th,
			td {
				border-top: 0;

				&:first-child {
					border-top-left-radius: var( --border-radius-medium );
				}

				&:last-child {
					border-top-right-radius: var( --border-radius-medium );
				}
			}
		}

		&:last-of-type {
			th,
			td {
				&:first-child {
					border-bottom-left-radius: var( --border-radius-medium );
				}

				&:last-child {
					border-bottom-right-radius: var( --border-radius-medium );
				}
			}
		}
	}
}
